<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mechanics of Motherhood</title>
    <script>
      // GitHub Pages SPA redirect
      // https://github.com/rafgraph/spa-github-pages
      // Modified to handle both custom domain and GitHub Pages sub-path deployments

      var l = window.location;
      var isCustomDomain =
        l.hostname === "mechanicsofmotherhood.com" ||
        l.hostname === "www.mechanicsofmotherhood.com";

      if (isCustomDomain) {
        // Custom domain - redirect with proper SPA format and enhanced character escaping
        l.replace(
          l.protocol +
            "//" +
            l.hostname +
            (l.port ? ":" + l.port : "") +
            "/?/" +
            l.pathname
              .slice(1)
              .replace(/&/g, "~and~")
              .replace(/\(/g, "~lp~")
              .replace(/\)/g, "~rp~")
              .replace(/:/g, "~colon~")
              .replace(/%/g, "~percent~")
              .replace(/\+/g, "~plus~")
              .replace(/=/g, "~eq~") +
            (l.search
              ? "&" +
                l.search
                  .slice(1)
                  .replace(/&/g, "~and~")
                  .replace(/\(/g, "~lp~")
                  .replace(/\)/g, "~rp~")
                  .replace(/:/g, "~colon~")
                  .replace(/%/g, "~percent~")
                  .replace(/\+/g, "~plus~")
                  .replace(/=/g, "~eq~")
              : "") +
            l.hash
        );
      } else {
        // GitHub Pages sub-path - use original logic with enhanced escaping
        var pathSegmentsToKeep = 1;
        l.replace(
          l.protocol +
            "//" +
            l.hostname +
            (l.port ? ":" + l.port : "") +
            l.pathname
              .split("/")
              .slice(0, 1 + pathSegmentsToKeep)
              .join("/") +
            "/?/" +
            l.pathname
              .slice(1)
              .split("/")
              .slice(pathSegmentsToKeep)
              .join("/")
              .replace(/&/g, "~and~")
              .replace(/\(/g, "~lp~")
              .replace(/\)/g, "~rp~")
              .replace(/:/g, "~colon~")
              .replace(/%/g, "~percent~")
              .replace(/\+/g, "~plus~")
              .replace(/=/g, "~eq~") +
            (l.search
              ? "&" +
                l.search
                  .slice(1)
                  .replace(/&/g, "~and~")
                  .replace(/\(/g, "~lp~")
                  .replace(/\)/g, "~rp~")
                  .replace(/:/g, "~colon~")
                  .replace(/%/g, "~percent~")
                  .replace(/\+/g, "~plus~")
                  .replace(/=/g, "~eq~")
              : "") +
            l.hash
        );
      }
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
